<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Measures Table</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
</head>
<body>

<h2>Measures for Today</h2>

<table border="1" cellpadding="6" cellspacing="0" id="measures-table">
  <thead>
    <tr>
      <th>Time</th>
      <th>UTCI</th>
      <th>UTCI Group</th>
      <th>Shift</th>
    </tr>
  </thead>
  <tbody>
    <!-- Data rows will go here -->
  </tbody>
</table>

<script>
// Load CSV and populate table
Papa.parse("monterrey_utci_results.csv", {
  download: true,
  header: true,
  complete: function(results) {
    const data = results.data;
    const table = document.getElementById('measures-table').getElementsByTagName('tbody')[0];

    // Loop through each row and add to table
    data.forEach(row => {
      const time = new Date(row['datetime']).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
      const utci = row['utci'];
      const group = row['utciGroup'];
      const shift = row['Shift'] === "1" ? "Day" : "Night";

      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${time}</td>
        <td>${utci}</td>
        <td>${group}</td>
        <td>${shift}</td>
      `;
      table.appendChild(tr);
    });
  }
});
</script>

</body>
</html>

