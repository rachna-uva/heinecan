<h1 class="mb-4">Health and Safety Dashboard</h1>

<script src="auth.js"></script>
<script>
  protectDashboard();
</script>
<button class="btn btn-sm btn-outline-secondary float-end" onclick="logout()">Logout</button>

<!-- Dashboard Cards -->
<div class="row text-center">
  <div class="col-md-4">
    <div id="utci-card" class="dashboard-card text-white">
      <h5>Heat Risk</h5>
      <h2 id="utci-group">--</h2>
    </div>
  </div>

  <div class="col-md-4">
    <div id="temperature-card" class="dashboard-card bg-light text-dark">
      <h5>Temperature</h5>
      <h2 id="temperature">--</h2>
    </div>
  </div>

  <div class="col-md-4">
    <div id="humidity-card" class="dashboard-card bg-light text-dark">
      <h5>Humidity</h5>
      <h2 id="humidity">--</h2>
    </div>
  </div>
</div>


<!-- UTCI Chart -->
<!--<div class="card p-3">
    <h4 class="mb-3">Heat Risk Trend</h4>
    <canvas id="utciChart"></canvas>
</div>--> 
<!-- Chart Toggle -->
<div class="d-flex justify-content-between align-items-center mb-3">
    <button class="btn btn-outline-secondary btn-sm" id="toggle-chart">Switch Graph</button>
  </div>
  
  <!-- UTCI Chart -->
  <div id="utci-chart-container">
    <canvas id="utciChart"></canvas>
  </div>
  
  <!-- Temperature & Humidity Chart (hidden initially) -->
  <div id="temp-humid-chart-container" style="display: none;">
    <canvas id="tempHumidityChart"></canvas>
  </div>
<!-- Heat Stress Mitigation Table -->
<div class="card p-3 mt-4">
    <h4 class="mb-3">Mitigation Measures</h4>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Condition</th>
                <th>Recommended Action</th>
            </tr>
        </thead>
        <tbody id="mitigation-table">
            <tr><td colspan="2">Loading...</td></tr>
        </tbody>
    </table>
</div>
